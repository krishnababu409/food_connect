extends layout.pug

block navbar
  if activePath === '/profile' && profile.role === 'donor'
    include donor-navbar.pug
  else
    include receiver-navbar.pug

block content
  main.container.py-5
    .row.justify-content-center
      .col-lg-6
        .card.shadow-sm
          .card-body.p-4
            h1.fw-bold.mb-3 My Profile
            p.text-muted.mb-4 Manage your account details.

            if errorMessage
              .alert.alert-danger= errorMessage

            if successMessage
              .alert.alert-success= successMessage

            form(method='post' action='/profile')
              .mb-3
                label.form-label Email
                input.form-control(
                  type='email'
                  name='email'
                  value=profile.email
                  required
                )

              .mb-3
                label.form-label Role
                input.form-control(
                  type='text'
                  value=profile.role
                  readonly
                )

              .mb-3
                label.form-label Joined
                input.form-control(
                  type='text'
                  value=new Date(profile.created_at).toLocaleDateString()
                  readonly
                )

              .d-flex.justify-content-end
                button.btn.btn-primary(type='submit') Update Profile
